{% extends 'base.html' %}

{% block content %}



    <div class="col-md-11 mx-auto alert alert-secondary">
        <h4>Ajout d'un appareil</h4><div class="row row-cols-1 row-cols-md-2 g-4">
        {% for appareil in apps if appareil['repr'] is not none %}




          <div class="col">
            <div class="card">

              <div class="card-body">
                <h5 class="card-title">{{appareil['label']}}</h5>
                  <p class="card-text">{{appareil['repr']}}</p>
              </div>
                <div id="{{appareil['label']}}" class="carousel slide" data-bs-ride="carousel" >
                      <div class="carousel-inner">
                        {% for file in appareil['obj']['files_img'] %}
                        <div class="carousel-item" data-bs-interval="4000">
                          <img src="{{ url_for('static', filename=file) }}" class="d-block" alt="...">
                        </div>
                          {% endfor %}
                        
                      </div>
                      <button class="carousel-control-prev" type="button" data-bs-target="#{{appareil['label']}}" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                      </button>
                      <button class="carousel-control-next" type="button" data-bs-target="#{{appareil['label']}}" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                      </button>
                </div>

                <div class="card-footer" style="text-align:end"> {% if appareil['obj'].enable %}
                    <form action="{{url_for('edit_appareil3')}}" method="get" class="form-add-composant" >
                        <input type="hidden" name="appareil" value="{{appareil['label']}}">
                        <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                    </form>
                    {%endif%}</div>
            </div>
          </div>




        {% endfor %}</div>

</div>

<div class="row">
    <div class="col-md-10 mx-auto alert alert-secondary">
        <h4>Ajout un capteur</h4>
        <ul class="add_appareil">
            <li>capteur de distance HC-SR04
                {% if 'HCSR04' in choices %}
                <form action="{{url_for('composant_add2')}}" method="post" class="form-add-composant">
                    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
                    <input type="hidden" name="composant" value="HCSR04">
                    <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                </form>
                {% endif %}
                 </li>
            <li>Débitmètre YF-S201
                {% if 'YFS201' in choices %}
                <form action="{{url_for('composant_add2')}}" method="post" class="form-add-composant">
                    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
                    <input type="hidden" name="composant" value="YFS201">
                    <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                </form>
                {% endif %}
            </li>
            <li>Capteur de courant ACS-712
                {% if 'ACS712' in choices %}
                <form action="{{url_for('composant_add2')}}" method="post" class="form-add-composant">
                    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
                    <input type="hidden" name="composant" value="ACS712">
                    <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                </form>
                {% endif %}
            </li>
            <li>Capteur de lumière</li>
            <li>Capteur de pression BMP-180
                {% if 'BMP180' in choices %}
                <form action="{{url_for('composant_add2')}}" method="post" class="form-add-composant">
                    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
                    <input type="hidden" name="composant" value="BMP180">
                    <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                </form>
                {% endif %}
            </li>
            <li>Capteur de température et d'humidité DHT-22
                {% if 'DHT22' in choices %}
                <form action="{{url_for('composant_add2')}}" method="post" class="form-add-composant">
                    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
                    <input type="hidden" name="composant" value="DHT22">
                    <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                </form>
                {% endif %}
            </li>
            <li>Compteur
                {% if 'Compteurs' in choices %}
                <form action="{{url_for('compteur_add')}}" method="post" class="form-add-composant">
                    <input type="hidden" name="csrf_token" value="{{csrf_token()}}">
                    <input type="hidden" name="composant" value="Compteurs">
                    <input type="submit" class="bnt btn-sm btn-success md-add-composant" value="add">
                </form>
                {% endif %}
            </li>
        </ul>
        <h4>Ajout d'un écran lcd</h4>
        <ul>
            <li>2 lignes/ 16 caractères</li>
            <li>4 lignes/ 20 caractères</li>
        </ul>
        <h4>Ajout autre composant</h4>
        <ul>
            <li>Convertisseur analogique/numérique Mp-3008</li>

        </ul>


    </div>
</div>

{% endblock %}
{% block script %}
    <script src="{{ url_for('static', filename='js/composant.js') }}"></script>
{% endblock %}